<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmOnline+ by SKOV - Data-Driven Farm Management</title>
    <meta name="description" content="Harness real-time data to solve farm challenges, optimize production, and enhance animal welfare with FarmOnline+ cloud-based system tailored to your needs.">
    <meta name="keywords" content="farm management, livestock monitoring, climate control, data-driven farming, poultry management, pig farming">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-touch-icon.png">
    
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Component Loading Styles -->
    <style>
        .component-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            color: #666;
            font-size: 0.9rem;
        }
        
        .error {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            background: #fee2e2;
            color: #dc2626;
            border-radius: 0.5rem;
            margin: 1rem;
        }
    </style>
</head>
<body>
    <!-- Navigation Component Container -->
    <div id="navbar-container"></div>

    <!-- Main Content -->
    <main>
        <!-- Management Section -->
        <section id="management-section">
            <!-- Hero Section Container -->
            <div id="hero-container"></div>

            <!-- Features Section Container -->
            <div id="features-container"></div>

            <!-- Solutions Section Container -->
            <div id="solutions-container"></div>
        </section>
        
        <!-- Integration Section -->
        <section id="integration-section" style="display: none;">
            <!-- Analytics Overview Container -->
            <div id="analytics-container"></div>

            <!-- API Documentation Container -->
            <div id="api-docs-container"></div>

            <!-- Enterprise Integration Container -->
            <div id="enterprise-integration-container"></div>
        </section>
        
        <!-- Infrastructure Section -->
        <section id="infrastructure-section" style="display: none;">
            <!-- Global Infrastructure Container -->
            <div id="global-infrastructure-container"></div>

            <!-- Data Security Container -->
            <div id="data-security-container"></div>

            <!-- Infrastructure Details Container -->
            <div id="infrastructure-container"></div>
        </section>
        
        <!-- Company Section -->
        <section id="company-section" style="display: none;">
            <!-- Ecosystem Section Container -->
            <div id="ecosystem-container"></div>

            <!-- Success Stories Section Container -->
            <div id="success-stories-container"></div>
        </section>
        
        <!-- Sales Section -->
        <section id="sales-section" style="display: none;">
            <!-- Pricing Section Container -->
            <div id="pricing-container"></div>

            <!-- Contact Section Container -->
            <div id="contact-container"></div>
        </section>
    </main>

    <!-- Footer Component Container -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="./scripts/components/component-loader.js"></script>
    <script src="./scripts/components/navigation.js"></script>
    <script src="./scripts/components/solutions.js"></script>
    <script src="./scripts/components/pricing.js"></script>
    <script src="./scripts/components/contact.js"></script>
    <script src="./scripts/main-modular.js"></script>
    
    <!-- Component Loading Script -->
    <script>
        // Initialize component loader and load all components
        const componentLoader = new ComponentLoader();
        
        // Component mapping with hierarchical structure
        const componentMappings = {
            // Navigation
            'navbar-container': 'navigation/navbar.html',
            
            // Management Section Components
            'hero-container': 'management/hero.html',
            'features-container': 'management/features.html', 
            'solutions-container': 'management/solutions.html',
            
            // Integration Section Components  
            'analytics-container': 'integration/analytics-overview.html',
            'api-docs-container': 'integration/api-docs.html',
            'enterprise-integration-container': 'integration/enterprise-integration.html',
            
            // Infrastructure Section Components
            'infrastructure-container': 'infrastructure/infrastructure.html',
            'global-infrastructure-container': 'infrastructure/global-infrastructure.html',
            'data-security-container': 'infrastructure/data-security.html',
            
            // Company Section Components
            'ecosystem-container': 'company/ecosystem.html',
            'success-stories-container': 'company/success-stories.html',
            
            // Sales Section Components
            'pricing-container': 'sales/pricing.html',
            'contact-container': 'sales/contact.html'
        };
        
        // Load all components when DOM is ready
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('Starting component loading...');
            
            // Load navigation first
            const navContainer = document.getElementById('navbar-container');
            if (navContainer) {
                await componentLoader.insertComponent('#navbar-container', 'navigation/navbar.html');
                console.log('Navigation loaded, initializing...');
                
                // Initialize navigation after it's loaded
                setTimeout(() => {
                    if (window.NavigationComponent) {
                        window.NavigationComponent.init();
                    }
                }, 200);
            }
            
            // Load other components
            for (const [containerId, componentPath] of Object.entries(componentMappings)) {
                if (containerId !== 'navbar-container') { // Skip navbar as it's already loaded
                    const container = document.getElementById(containerId);
                    if (container) {
                        await componentLoader.insertComponent(`#${containerId}`, componentPath);
                    }
                }
            }
            
            console.log('All components loaded');
            
            // Initialize main app after all components are loaded
            if (window.FarmOnlineApp) {
                window.FarmOnlineApp.init();
            }
        });
    </script>
</body>
</html>
